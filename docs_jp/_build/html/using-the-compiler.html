

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using the compiler &mdash; Solidity 0.5.4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contract Metadata" href="metadata.html" />
    <link rel="prev" title="Resources" href="resources.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Solidity
          

          
          </a>

          
            
            
              <div class="version">
                0.5.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction-to-smart-contracts.html">Introduction to Smart Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing-solidity.html">Installing the Solidity Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidity-by-example.html">Solidity by Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidity-in-depth.html">Solidity in Depth</a></li>
<li class="toctree-l1"><a class="reference internal" href="security-considerations.html">Security Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using the compiler</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-the-commandline-compiler">Using the Commandline Compiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-the-evm-version-to-target">Setting the EVM version to target</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#target-options">Target options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#compiler-input-and-output-json-description">Compiler Input and Output JSON Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-description">Input Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-description">Output Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#error-types">Error types</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Contract Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="abi-spec.html">Contract ABI Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="yul.html">Yul</a></li>
<li class="toctree-l1"><a class="reference internal" href="style-guide.html">Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-patterns.html">Common Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="bugs.html">List of Known Bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="frequently-asked-questions.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="lll.html">LLL</a></li>
</ul>

            
          
    <a href="genindex.html">Keyword Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Solidity</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Using the compiler</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/using-the-compiler.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-the-compiler">
<h1>Using the compiler<a class="headerlink" href="#using-the-compiler" title="Permalink to this headline">¶</a></h1>
<div class="section" id="using-the-commandline-compiler">
<span id="commandline-compiler"></span><span id="index-0"></span><h2>Using the Commandline Compiler<a class="headerlink" href="#using-the-commandline-compiler" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">この章の内容は、コマンドラインモードも含めて  <a class="reference internal" href="installing-solidity.html#solcjs"><span class="std std-ref">solcjs</span></a> には使用することができません。</p>
</div>
<p>Solidityレポジトリのビルドターゲットの1つはsolidityコマンドラインコンパイラである <code class="docutils literal notranslate"><span class="pre">solc</span></code> です。
<code class="docutils literal notranslate"><span class="pre">solc</span> <span class="pre">--help</span></code> を使ってオプションを表示できます。このコンパイラは、単純なバイナリから抽象構文木(構文解析ツリー)へのアセンブリからガス代の見積もりまで、さまざまな出力を生成することができます。
単一ファイルのみをコンパイルしたい場合、該当のファイルを <code class="docutils literal notranslate"><span class="pre">solc</span> <span class="pre">--bin</span> <span class="pre">sourceFile.sol</span></code> として実行すると、バイナリが出力されます。
<code class="docutils literal notranslate"><span class="pre">solc</span></code> のより高度なアウトプットを取得したい場合は、 <code class="docutils literal notranslate"><span class="pre">solc</span> <span class="pre">-o</span> <span class="pre">outputDirectory</span> <span class="pre">--bin</span> <span class="pre">--ast</span> <span class="pre">--asm</span> <span class="pre">sourceFile</span></code> を使用してすべてを別々のファイルに出力するように指定したほうがよいでしょう。</p>
<p>また、コントラクトをデプロイする前に、 <code class="docutils literal notranslate"><span class="pre">solc</span> <span class="pre">--optimize</span> <span class="pre">--bin</span> <span class="pre">sourceFile.sol</span></code> を使用してコンパイルするときにオプティマイザを有効にしてください。
デフォルトでは、オプティマイザは、コントラクトがそのライフタイムにわたって200回呼び出されると仮定して、コントラクトを最適化します。
イニシャルコントラクトのデプロイのガス代をより安く、その後の関数実行時のガス代をより高くしたい場合は、<code class="docutils literal notranslate"><span class="pre">--optimize-runs=1</span></code> と設定してください。
多くのトランザクションを想定していて、デフォルトより高いデプロイコストとアウトプットサイズを気にしないのであれば、 <code class="docutils literal notranslate"><span class="pre">--optimize-runs</span></code> を大きな数に設定してください。</p>
<p>コマンドラインコンパイラはファイルシステムからインポートされたファイルを自動的に読み込みますが、以下のように <code class="docutils literal notranslate"><span class="pre">prefix=path</span></code> を使ってリダイレクトするパスを明示することも可能です:</p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="n">solc</span> <span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">ethereum</span><span class="o">/</span><span class="n">dapp</span><span class="o">-</span><span class="n">bin</span><span class="o">/=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">dapp</span><span class="o">-</span><span class="n">bin</span><span class="o">/</span> <span class="n">file</span><span class="p">.</span><span class="n">sol</span>
</pre></div>
</div>
<p>これはコンパイラに <code class="docutils literal notranslate"><span class="pre">/usr/local/lib/dapp-bin</span></code> 下の <code class="docutils literal notranslate"><span class="pre">github.com/ethereum/dapp-bin/</span></code> で始まるものを検索するように指示します。
<code class="docutils literal notranslate"><span class="pre">solc</span></code> は再マッピングターゲットの外側にあるファイルシステムからファイルを読みません。ただし、 <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">&quot;/etc/passwd&quot;;</span></code> のように明示的に指定したディレクトリ外の再マッピングターゲットファイルが存在するときは <code class="docutils literal notranslate"><span class="pre">/=/</span></code> を追加すれば読み込むことができるようになります。</p>
<p>また、空の再マッピングプレフィックスは許可されていません。</p>
<p>再マッピングを行う対象が複数個ある場合は、最も長い共通プレフィックスを持つものが選択されます。</p>
<p>セキュリティ上の理由から、コンパイラがアクセスできるディレクトリには制限があります。
コマンドラインで指定されたソースファイルのパス(そのサブディレクトリを含む)と再マッピングで定義されたパスはimport文で使用できますが、それ以外はすべてリジェクトされます。追加のパス(そのサブディレクトリを含む)は <code class="docutils literal notranslate"><span class="pre">--allow-paths</span> <span class="pre">/sample/path,</span> <span class="pre">/another/sample/path</span></code> を使用することで許可することができます。</p>
<p>コントラクト内に <a class="reference internal" href="contracts.html#libraries"><span class="std std-ref">libraries</span></a> を使用している場合、バイトコードが <code class="docutils literal notranslate"><span class="pre">__$53aea86b7d70b31448b230b20ae141a537$__</span></code> 形式の部分文字列を含んでいることに気付くはずです。これらは実際のライブラリアドレスのプレースホルダになります。
このプレースホルダは、完全修飾ライブラリ名のkeccak256ハッシュをhexエンコーディングした34文字のプレフィックスです。
また、バイトコードファイルの最後には、 <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">&lt;プレースホルダ&gt;</span>&#160; <span class="pre">-&gt;</span> <span class="pre">&lt;完全修飾ライブラリ名&gt;</span></code> という形式の行も含まれます。
そして、プレースホルダがどのライブラリを表すかを識別するための完全修飾ライブラリ名ソースファイルのパスとライブラリ名を <code class="docutils literal notranslate"><span class="pre">:</span></code> で区切って指定します。
さらにリンカ(linker)として <code class="docutils literal notranslate"><span class="pre">solc</span></code> を使うことができます。これはリンカがある場所にライブラリアドレスを挿入することを意味します:</p>
<p>各ライブラリのアドレスを指定するか、ファイルごとに文字列(1行ごとに1つライブラリを指定してください)を格納するには、 <code class="docutils literal notranslate"><span class="pre">solc</span></code> で <code class="docutils literal notranslate"><span class="pre">--libraries</span> <span class="pre">fileName</span></code> オプションを使って <code class="docutils literal notranslate"><span class="pre">--libraries</span> <span class="pre">&quot;file.sol:Math:0x1234567890123456789012345678901234567890</span> <span class="pre">file.sol:Heap:0xabCD567890123456789012345678901234567890&quot;</span></code> とコマンドに追加します。</p>
<p>オプション <code class="docutils literal notranslate"><span class="pre">--link</span></code> を付けて <code class="docutils literal notranslate"><span class="pre">solc</span></code> を呼び出すと、すべての入力ファイルは上記の <code class="docutils literal notranslate"><span class="pre">__$53aea86b7d70b31448b230b20ae141a537$__</span></code> 形式のリンクされていないバイナリ(hexエンコーディング)として解釈され、インプレースリンクとなります(入力が標準入力から読み取られる場合は、標準出力に書き込まれます)。この場合、 <code class="docutils literal notranslate"><span class="pre">--libraries</span></code> 以外のすべてのオプションは無視されます( <code class="docutils literal notranslate"><span class="pre">-o</span></code> を含みます)。</p>
<p><code class="docutils literal notranslate"><span class="pre">solc</span></code> が <code class="docutils literal notranslate"><span class="pre">--standard-json</span></code> オプション付きで呼び出された場合、(以下で説明するように)標準入力にJSONでの入力が求められ、標準出力にJSON出力が返されます。これは、より複雑で特に自動化された用途の場合に推奨されるインターフェースです。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">ライブラリのプレースホルダは、以前はライブラリのハッシュではなく、ライブラリ自体の完全修飾名でした。
このフォーマットはまだ <code class="docutils literal notranslate"><span class="pre">solc</span> <span class="pre">--link</span></code> によってサポートされてはいますが、コンパイラはもうその出力に対応していません。
この変更は、完全修飾ライブラリ名の最初の36文字しか使用できないことから、ライブラリ間でのコンフリクトが発生する可能性を減らすために採用されました。</p>
</div>
<span class="target" id="evm-version"></span></div>
<div class="section" id="setting-the-evm-version-to-target">
<span id="index-1"></span><h2>Setting the EVM version to target<a class="headerlink" href="#setting-the-evm-version-to-target" title="Permalink to this headline">¶</a></h2>
<p>コントラクトコードをコンパイルする際、特定の機能や動作を回避するために、コンパイルするEthereum virtual machine(EVM)のバージョンを指定できます。</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">誤ったEVMバージョンでコンパイルすると、誤った、奇妙な、そして失敗するような振る舞いをするかもしれません。
特にプライベートチェーンを実行している場合は、必ず一致するEVMバージョンを使用してください。</p>
</div>
<p>コマンドラインでは、次のようにEVMのバージョンを指定できます:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>solc --evm-version &lt;VERSION&gt; contract.sol
</pre></div>
</div>
<p><a class="reference internal" href="#compiler-api"><span class="std std-ref">standard JSON interface</span></a> 内では、 <code class="docutils literal notranslate"><span class="pre">&quot;settings&quot;</span></code> フィールド内の <code class="docutils literal notranslate"><span class="pre">&quot;evmVersion&quot;</span></code> キーを使用してください:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  &quot;sources&quot;: { ... },
  &quot;settings&quot;: {
    &quot;optimizer&quot;: { ... },
    &quot;evmVersion&quot;: &quot;&lt;VERSION&gt;&quot;
  }
}
</pre></div>
</div>
<div class="section" id="target-options">
<h3>Target options<a class="headerlink" href="#target-options" title="Permalink to this headline">¶</a></h3>
<p>以下は、ターゲットEVMのバージョンと、各バージョンで導入されたコンパイラ関連の変更のリストです。
各バージョン間の下位互換性は保証されていません。</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">homestead</span></code> (１番古いバージョン)</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">tangerineWhistle</span></code></dt>
<dd><ul class="first last">
<li>他のアカウントにアクセスするためのガス代が増加します。これはガス見積もりとオプティマイザに関連することにより起こります。</li>
<li>すべてのガスは、デフォルトでは外部コールとして送信されていましたが、以前は一定量を保持する必要がありました。</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">spuriousDragon</span></code></dt>
<dd><ul class="first last">
<li><code class="docutils literal notranslate"><span class="pre">exp</span></code> オペコードのガスコストが増加します。これはガス推定とオプティマイザに関連することにより起こります。</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">byzantium</span></code> (<strong>default</strong>)</dt>
<dd><ul class="first last">
<li>オペコード <code class="docutils literal notranslate"><span class="pre">returndatacopy</span></code> 、 <code class="docutils literal notranslate"><span class="pre">returndatasize</span></code> 、 <code class="docutils literal notranslate"><span class="pre">staticcall</span></code> はアセンブリで利用可能です。</li>
<li><code class="docutils literal notranslate"><span class="pre">staticcall</span></code> オペコードは、ライブラリ以外のviewやpureの修飾子が付いた関数を呼び出すときに使われます。これはEVMレベルで関数が状態を変更するのを防ぎます。つまり、無効な型変換を使ったときにも適用されます。</li>
<li>関数呼び出しから返された動的データにアクセスすることが可能です。</li>
<li><code class="docutils literal notranslate"><span class="pre">revert</span></code> オペコードが導入されました。 <code class="docutils literal notranslate"><span class="pre">revert()</span></code> がガスを無駄にしません。</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">constantinople</span></code> (開発中)</dt>
<dd><ul class="first last">
<li>オペコード <code class="docutils literal notranslate"><span class="pre">shl</span></code> 、 <code class="docutils literal notranslate"><span class="pre">shr</span></code> および <code class="docutils literal notranslate"><span class="pre">sar</span></code> はアセンブリで利用できます。</li>
<li>シフト演算子はシフト演算コードを使用するため、必要なガスが少なくて済みます。</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="compiler-input-and-output-json-description">
<span id="compiler-api"></span><h2>Compiler Input and Output JSON Description<a class="headerlink" href="#compiler-input-and-output-json-description" title="Permalink to this headline">¶</a></h2>
<p>Solidityコンパイラとインターフェースをとるための推奨される方法は、いわゆるJSON入出力インターフェースです。
これは特に複雑で自動化されたセットアップの際に有用です。
コンパイラのすべてのディストリビューションで同じインタフェースが提供されています。</p>
<p>そのフィールドは度々変更されることがあり、いくつかはオプションです(このドキュメントに書かれてある通りです)。
ただし、私達は後方互換性のある変更だけをします。</p>
<p>コンパイラAPIはJSON形式の入力を要求し、コンパイル結果をJSON形式の出力に出力します。</p>
<p>以下のサブセクションでは、例を通してその形式を説明します。
下にあるようなコメントはもちろん使うことはできません。ここでは説明の目的で使用されているだけです。</p>
<div class="section" id="input-description">
<h3>Input Description<a class="headerlink" href="#input-description" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  // Required: ソースコードの言語。&quot;Solidity&quot;、 &quot;Vyper&quot;、 &quot;lll&quot;、 &quot;assembly&quot;など
  language: &quot;Solidity&quot;,
  // Required
  sources:
  {
    // キーはソースファイルのグローバルネームです。
    // インポートは再マッピングを通して他のファイルを使うことができます(下記を参照してください)
    &quot;myFile.sol&quot;:
    {
      // Optional: ソースファイルのkeccak256ハッシュ
      // URL経由でインポートした場合、取得したコンテンツを検証するために使用されます。
      &quot;keccak256&quot;: &quot;0x123...&quot;,
      // Required(&quot;content&quot;が使用されていない限りRequiredです。下記を参照してください): ソースファイルのURLs
      // URLはこの順番でインポートされ、結果はkeccak256ハッシュ(利用可能な場合)に対してチェックされます。
      // ハッシュが一致しない場合、またはいずれのURLでも成功しなかった場合は、エラーが発生します。
      &quot;urls&quot;:
      [
        &quot;bzzr://56ab...&quot;,
        &quot;ipfs://Qma...&quot;,
        // If files are used, their directories should be added to the command line via
        // `--allow-paths &lt;path&gt;`.
        &quot;file:///tmp/path/to/file.sol&quot;
      ]
    },
    &quot;mortal&quot;:
    {
      // Optional: ソースファイルのkeccak256ハッシュ
      &quot;keccak256&quot;: &quot;0x234...&quot;,
      // Required(&quot;urls&quot;が使用されていない限りRequiredです): ソースファイルのリテラル
      &quot;content&quot;: &quot;contract mortal is owned { function kill() { if (msg.sender == owner) selfdestruct(owner); } }&quot;
    }
  },
  // Optional
  settings:
  {
    // Optional: 再マッピングのソート済みリスト
    remappings: [ &quot;:g/dir&quot; ],
    // Optional: オプティマイザー設定
    optimizer: {
      // デフォルトではdisabledです
      enabled: true,
      // コードを実行する回数を最適化します。
      // 値が小さいほどイニシャルデプロイコストが最適化され、値が高いと高頻度で使用するときにより最適化されます。
      runs: 200
    },
    // コンパイルするEVMのバージョン。型チェックとコード生成に影響します。
    // homestead、tangerineWhistle、spuriousDragon、byzantium、constantinopleのいずれかです。
    evmVersion: &quot;byzantium&quot;,
    // メタデータ設定(optional)
    metadata: {
      // URLではなくリテラルのみを使用(デフォルトではfalseです)
      useLiteralContent: true
    },
    // ライブラリのアドレスです。ここにすべてのライブラリが指定されていないと、出力データがライブラリにリンクされていない異なるオブジェクトになる可能性があります。
    libraries: {
      // 最上位のキーは、ライブラリが使用されているソースファイルの名前です。
      // 再マッピングが使用されている場合、このソースファイルは再マッピングが適用された後のグローバルパスと一致する必要があります。
      // このキーが空の文字列の場合、グローバルレベルを参照します。
      &quot;myFile.sol&quot;: {
        &quot;MyLib&quot;: &quot;0x123123...&quot;
      }
    }
    // 以下は、ファイル名とコントラクト名に基づいて目的の出力を選択するために使用できます。
    // このフィールドを省略すると、コンパイラは型チェックをロードして実行しますが、エラー以外の出力は生成しません。
    // ファーストレベルのキーはファイル名、セカンドレベルのキーはコントラクト名です。
    // 空のコントラクト名は、コントラクトではなくASTのようなソースファイル全体に関連付けられている出力に使用されます。
    // コントラクト名としてのスター(*)は、ファイル内のすべての契約を表します。
    // 同様に、ファイル名としてのスター(*)はすべてのファイルに一致します。
    // コンパイラが生成する可能性のあるすべての出力を選択するには、&quot;outputSelection：{&quot; * &quot;：{&quot; * &quot;：[&quot; * &quot;]、&quot; &quot;：[&quot; * &quot;]}}&quot;を使用します。
    // ただし、これはコンパイルプロセスを不必要に遅くする可能性があることに留意してください。
    //
    // 利用できるアウトプットの型は以下の通りです:
    //
    // ファイルレベル(コントラクト名として空文字列が必要):
    //   ast - 全ソースファイルのAST
    //   legacyAST - 全ソースファイルのlegacy AST
    //
    // コントラクトレベル(コントラクト名か&quot;*&quot;が必要です):
    //   abi - ABI
    //   devdoc - 開発者向けドキュメント(natspec)
    //   userdoc - ユーザー向けドキュメント(natspec)
    //   metadata - メタデータ
    //   ir - desugaringする前の新しいアセンブリフォーマット
    //   evm.assembly - desugaringした後の新しいアセンブリフォーマット
    //   evm.legacyAssembly - JSONでの古いスタイルのアセンブリ
    //   evm.bytecode.object - バイトコードオブジェクト
    //   evm.bytecode.opcodes - オペコードのリスト
    //   evm.bytecode.sourceMap - ソースマッピング(デバッグに役立ちます)
    //   evm.bytecode.linkReferences - リンクリファレンス(もしunlinked objectであれば)
    //   evm.deployedBytecode* - デプロイ時のバイトコード(evm.bytecodeと同じオプションがあります)
    //   evm.methodIdentifiers - 関数ハッシュのリスト
    //   evm.gasEstimates - 関数のガス代の推定
    //   ewasm.wast - eWASM S-expressionsフォーマット(atmをサポートしていません)
    //   ewasm.wasm - eWASM binaryフォーマット(atmをサポートしていません)
    //
    // `evm` 、` evm.bytecode` 、 `ewasm` などを使用すると、その出力のすべてのターゲット部分が選択されます。
    // さらに、 `*` はすべてを要求するためのワイルドカードとして使うことができます。
    //
    outputSelection: {
      // 各コントラクトのメタデータとバイトコードの出力を有効にします。
      &quot;*&quot;: {
        &quot;*&quot;: [ &quot;metadata&quot;, &quot;evm.bytecode&quot; ]
      },
      // defに定義されているMyContractのabiおよびオペコード出力を有効にします。
      &quot;def&quot;: {
        &quot;MyContract&quot;: [ &quot;abi&quot;, &quot;evm.bytecode.opcodes&quot; ]
      },
      // 各コントラクトのソースマップ出力を有効にします。
      &quot;*&quot;: {
        &quot;*&quot;: [ &quot;evm.bytecode.sourceMap&quot; ]
      },
      // すべての単一ファイルのlegacy AST出力を有効にします。
      &quot;*&quot;: {
        &quot;&quot;: [ &quot;legacyAST&quot; ]
      }
    }
  }
}
</pre></div>
</div>
</div>
<div class="section" id="output-description">
<h3>Output Description<a class="headerlink" href="#output-description" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  // Optional: エラー/警告が発生しなかった場合は存在しません
  errors: [
    {
      // Optional: ソースファイル内の位置
      sourceLocation: {
        file: &quot;sourceFile.sol&quot;,
        start: 0,
        end: 100
      ],
      // Mandatory: エラータイプ。&quot;TypeError&quot;、&quot;InternalCompilerError&quot;、&quot;Exception&quot;など。
      // すべての型のリストは以下を参照してください。
      type: &quot;TypeError&quot;,
      // Mandatory: エラーが発生したコンポーネント。&quot;general&quot;、&quot;ewasm&quot;など。
      component: &quot;general&quot;,
      // Mandatory (&quot;error&quot;もしくは&quot;warning&quot;)
      severity: &quot;error&quot;,
      // Mandatory
      message: &quot;Invalid keyword&quot;
      // Optional: ソースの場所でフォーマットされたメッセージ
      formattedMessage: &quot;sourceFile.sol:100: Invalid keyword&quot;
    }
  ],
  // これはファイルレベルの出力を含むものです。outputSelectionの設定によって制限/フィルタリングできます。
  sources: {
    &quot;sourceFile.sol&quot;: {
      // ソースの識別子（ソースマップで使用）
      id: 1,
      // ASTオブジェクト
      ast: {},
      // legacy ASTオブジェクト
      legacyAST: {}
    }
  },
  // これはコントラクトレベルの出力を含むものです。outputSelectionの設定によって制限/フィルタリングできます。
  contracts: {
    &quot;sourceFile.sol&quot;: {
      // 使用されている言語にコントラクト名がない場合、このフィールドは空の文字列と等しくなります。
      &quot;ContractName&quot;: {
        // Ethereum Contract ABIです。もし空なら、空配列として表されます。
        // https://github.com/ethereum/wiki/wiki/Ethereum-Contract-ABIを参照してください。
        abi: [],
        // Metadata Outputのドキュメント(serialised JSON string)を参照してください。
        metadata: &quot;{...}&quot;,
        // ユーザードキュメント(natspec)
        userdoc: {},
        // 開発者向けドキュメント(natspec)
        devdoc: {},
        // 中間表現(string)
        ir: &quot;&quot;,
        // EVMに関連する出力
        evm: {
          // Assembly (string)
          assembly: &quot;&quot;,
          // 過去の形式のアセンブリ(object)
          legacyAssembly: {},
          // バイトコードと関連する詳細
          bytecode: {
            // hex stringとしてのバイトコード
            object: &quot;00fe&quot;,
            // オペコードのリスト(string)
            opcodes: &quot;&quot;,
            // 文字列としてのソースマッピング。ソースマッピング定義を参照してください。
            sourceMap: &quot;&quot;,
            // もし存在する場合、これはunlinked objectとなります。
            linkReferences: {
              &quot;libraryFile.sol&quot;: {
                // バイトコードへのバイトオフセット。リンクすると、その位置の20バイトが置き換えられます。
                &quot;Library1&quot;: [
                  { start: 0, length: 20 },
                  { start: 200, length: 20 }
                ]
              }
            }
          },
          // 上記と同じレイアウトです。
          deployedBytecode: { },
          // 関数ハッシュのリスト
          methodIdentifiers: {
            &quot;delegate(address)&quot;: &quot;5c19a95c&quot;
          },
          // ガス代の推定を行う関数
          gasEstimates: {
            creation: {
              codeDepositCost: &quot;420000&quot;,
              executionCost: &quot;infinite&quot;,
              totalCost: &quot;infinite&quot;
            },
            external: {
              &quot;delegate(address)&quot;: &quot;25000&quot;
            },
            internal: {
              &quot;heavyLifting()&quot;: &quot;infinite&quot;
            }
          }
        },
        // 出力に関連するeWASM
        ewasm: {
          // S-expressionsフォーマット
          wast: &quot;&quot;,
          // バイナリ形式(hex string)
          wasm: &quot;&quot;
        }
      }
    }
  }
}
</pre></div>
</div>
<div class="section" id="error-types">
<h4>Error types<a class="headerlink" href="#error-types" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">JSONError</span></code>: JSON入力が必要なフォーマットに準拠していません。入力がJSONオブジェクトではない、言語がサポートされていない、など。</li>
<li><code class="docutils literal notranslate"><span class="pre">IOError</span></code>: IOとimportプロセスエラーです。利用できないURLや提供されたソースのハッシュの不一致など。</li>
<li><code class="docutils literal notranslate"><span class="pre">ParserError</span></code>: ソースコードが言語の規則に準拠していません。</li>
<li><code class="docutils literal notranslate"><span class="pre">DocstringParsingError</span></code>: コメントブロック内のNatSpecタグは解析できません。</li>
<li><code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code>: シンタックスエラーです。<code class="docutils literal notranslate"><span class="pre">continue</span></code> のような構文エラーは <code class="docutils literal notranslate"><span class="pre">for</span></code> ループの外側で使われます。</li>
<li><code class="docutils literal notranslate"><span class="pre">DeclarationError</span></code>: 無効な、解決できない、またはコンフリクトする識別子名です。例えば <code class="docutils literal notranslate"><span class="pre">Identifier</span> <span class="pre">not</span> <span class="pre">found</span></code> など。</li>
<li><code class="docutils literal notranslate"><span class="pre">TypeError</span></code>: 型システム内のエラーです。invalid type conversions や invalid assignmentsなど。</li>
<li><code class="docutils literal notranslate"><span class="pre">UnimplementedFeatureError</span></code>: この機能はコンパイラではサポートされていませんが、将来のバージョンでサポートされる予定です。</li>
<li><code class="docutils literal notranslate"><span class="pre">InternalCompilerError</span></code>: 内部バグがコンパイラで引き起こされました。 -これは問題として報告されるべきです。</li>
<li><code class="docutils literal notranslate"><span class="pre">Exception</span></code>: コンパイル中にUnknown failureが発生しました。 - これは問題として報告されるべきです。</li>
<li><code class="docutils literal notranslate"><span class="pre">CompilerError</span></code>: コンパイラスタックの無効な使用が起こりました。 - これは問題として報告されるべきです。</li>
<li><code class="docutils literal notranslate"><span class="pre">FatalError</span></code>: Fatal errorにより正しく処理されませんでした。 - これは問題として報告されるべきです。</li>
<li><code class="docutils literal notranslate"><span class="pre">Warning</span></code>: Warningです。コンパイルは止めませんでしたが、可能であれば対処するべきです。</li>
</ol>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="metadata.html" class="btn btn-neutral float-right" title="Contract Metadata" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="resources.html" class="btn btn-neutral float-left" title="Resources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, Ethereum

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>